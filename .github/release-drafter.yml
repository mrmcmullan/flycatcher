name-template: "v$RESOLVED_VERSION"
tag-template: "v$RESOLVED_VERSION"

categories:
  - title: "ğŸš€ Features"
    labels:
      - "feature"
      - "enhancement"
      - "feat"
    exclude-labels:
      - "fix"
      - "bugfix"
      - "bug"
  - title: "ğŸ› Bug Fixes"
    labels:
      - "fix"
      - "bugfix"
      - "bug"
    exclude-labels:
      - "enhancement"
      - "feature"
      - "feat"
  - title: "ğŸ“š Documentation"
    labels:
      - "documentation"
      - "docs"
    exclude-labels:
      - "enhancement"
      - "feature"
      - "feat"
      - "fix"
      - "bug"
      - "test"
      - "ci"
      - "chore"
  - title: "ğŸ§ª Tests"
    labels:
      - "test"
      - "tests"
  - title: "âš¡ Performance"
    labels:
      - "performance"
      - "perf"
  - title: "âš ï¸ Deprecations"
    labels:
      - "deprecation"
      - "depr"
  - title: "ğŸ”§ Maintenance"
    labels:
      - "chore"
      - "refactor"
      - "style"
      - "ci"
      - "build"
      - "release"

change-template: "- $TITLE @$AUTHOR (#$NUMBER)"
change-title-escapes: '\<*_&'

# Strip conventional commit prefixes from titles in release notes
replacers:
  # Remove conventional commits from titles
  - search: '/- (build|chore|ci|depr|docs|feat|fix|perf|refactor|release|test)(\(.*\))?(\!)?\: /g'
    replace: "- "

version-resolver:
  major:
    labels:
      - "major"
      - "breaking"
  minor:
    labels:
      - "minor"
      - "feature"
      - "enhancement"
      - "feat"
  patch:
    labels:
      - "patch"
      - "fix"
      - "bugfix"
      - "bug"
      - "chore"
      - "refactor"
      - "docs"
      - "test"
  default: patch

template: |
  ## What's Changed

  $CHANGES

  ## Contributors

  $CONTRIBUTORS

  **Full Changelog**: https://github.com/$OWNER/$REPOSITORY/compare/$PREVIOUS_TAG...v$RESOLVED_VERSION

autolabeler:
  # Title-based labels (checked first, take priority over file-based labels)
  - label: "enhancement"
    title:
      - "/^feat:/i"
      - "/^feature:/i"
  - label: "bug"
    title:
      - "/^fix:/i"
      - "/^bugfix:/i"
  - label: "deprecation"
    title:
      - "/^depr:/i"
      - "/^deprecation:/i"
  - label: "chore"
    title:
      - "/^chore:/i"
  - label: "test"
    title:
      - "/^test:/i"
      - "/^tests:/i"
  - label: "ci"
    title:
      - "/^ci:/i"
      - "/^build:/i"
  - label: "performance"
    title:
      - "/^perf:/i"
      - "/^performance:/i"
  - label: "documentation"
    title:
      - "/^docs?:/i"
  # File-based labels (applied by .github/labeler.yml, but excluded from wrong categories via exclude-labels)
  - label: "dependencies"
    files:
      - "pyproject.toml"
      - "uv.lock"
